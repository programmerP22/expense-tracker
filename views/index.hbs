<div class="container-fluid">
  <div class="row">

    <div class="col-3">
    </div>

    <div class="col-9">
      {{!-- 類別選項 --}}
      <div class="mt-4">
        <div class="dropdown">
          <button class="btn btn-outline-secondary dropdown-toggle d-flex justify-content-between align-items-center" style="width: 20rem;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            {{#if categoryType}}
              {{categoryType}}
            {{else}}
            請選擇類別
            {{/if}} 
          </button>
          <ul class="dropdown-menu">
            {{#each categoryList}}
            <form action="/">
            <li><button href="/" type="submit" class="dropdown-item" name="categoryId" value="{{this._id}}">{{this.name}}</button></li>
            </form>
            {{/each}}
            <form action="/">
              <li><button href="/" type="submit" class="dropdown-item" name="categoryId" value="">全部</button>
              </li>
            </form>
          </ul>
        </div>
      </div>
    
      {{!-- 總金額 --}}
      <div class="mt-4">
        <div class="d-flex flex-row justify-content-between" style="width: 20rem;">
          <h5>總金額:</h5> 
          <h1 style="font-size: 2rem; color: salmon;">{{totalAmount}}</h1>
        </div>
      </div>

      {{!-- list --}}
      <div class="" style="border-color: grey; width: 30rem;">

        {{#each records}}
        <div class="row d-flex flex-row align-items-center mx-0 px-1 gx-0" style="height: 3rem; {{#if this.background }}background: #D4D4D4;{{/if}}">
          <div class="col-1 d-flex justify-content-center">
            <i class="{{this.icon}} fa-2x"></i>
          </div>

          <div class="col-6 d-flex flex-column justify-content-center">
            <span style="font-size: 1.2rem;">{{this.name}}</span>
            <span style="font-size: 0.4rem;">{{this.date}}</span>
          </div>

          <div class="col-1 d-flex justify-content-end">
            <span>{{this.amount}}</span>
          </div>

          <div class="col-4 d-flex justify-content-end px-2">
            <a href="/records/{{this._id}}/edit" class="btn btn-outline-dark btn-sm" style="border: none">修改</a>
            <form action="/records/{{ this._id }}?_method=DELETE" method="POST">
              <button type="submit" class="mx-2 btn btn-outline-dark btn-sm" style="border: none">刪除</button>
            </form>
          </div>
        </div>
        {{/each}}
      </div>

      {{!-- 新增支出按鈕 --}}
      <div class="mt-4">
        <div class="d-flex flex-row justify-content-center" style="width: 20rem;">
          <a href="/records/new" class="btn btn-outline-dark" style="width: 12rem;">新增一筆新的支出</a>
        </div>
      </div>

    </dir>
  </div>
</div>